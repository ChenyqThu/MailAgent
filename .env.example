# MailAgent 环境变量配置示例
# 复制此文件为 .env 并填入你的配置

# =============================================================================
# Notion 配置
# =============================================================================
# Notion Integration Token (从 https://www.notion.so/my-integrations 获取)
NOTION_TOKEN=ntn_your_token_here

# 邮件数据库 ID (从 Notion 页面 URL 获取)
EMAIL_DATABASE_ID=your_email_database_id

# 日历数据库 ID
CALENDAR_DATABASE_ID=your_calendar_database_id

# =============================================================================
# 用户配置
# =============================================================================
# 你的邮箱地址
USER_EMAIL=your.email@example.com

# Mail.app 账户名称 (运行 scripts/debug_mail_structure.py 查看)
MAIL_ACCOUNT_NAME=Exchange

# 收件箱名称 (中文系统通常是 "收件箱")
MAIL_INBOX_NAME=收件箱

# =============================================================================
# 邮件同步配置
# =============================================================================
# 检查新邮件间隔 (秒)
CHECK_INTERVAL=60

# 每次最多同步邮件数
MAX_BATCH_SIZE=10

# 启动时是否同步现有的未读邮件
SYNC_EXISTING_UNREAD=true

# =============================================================================
# 日历同步配置
# =============================================================================
# 日历名称 (运行 scripts/test_eventkit.py 查看可用日历)
CALENDAR_NAME=日历

# 同步间隔 (秒)
CALENDAR_CHECK_INTERVAL=300

# 同步过去多少天的事件
CALENDAR_PAST_DAYS=90

# 同步未来多少天的事件
CALENDAR_FUTURE_DAYS=90

# =============================================================================
# 附件配置
# =============================================================================
# 最大附件大小 (字节), 20MB = 20971520
MAX_ATTACHMENT_SIZE=20971520

# 支持的附件类型 (逗号分隔)
ALLOWED_ATTACHMENT_TYPES=.pdf,.png,.jpg,.jpeg,.gif,.webp,.bmp,.svg,.docx,.xlsx,.pptx,.csv,.txt,.zip,.rar,.7z,.mp4,.mov,.avi,.json,.eml

# =============================================================================
# 日志配置
# =============================================================================
# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=logs/sync.log

# =============================================================================
# 监控告警配置 (预留)
# =============================================================================
# 启用告警
# ALERT_ENABLED=false

# 告警方式: webhook, email, slack, wechat
# ALERT_TYPE=webhook

# Webhook URL (用于自定义告警)
# ALERT_WEBHOOK_URL=https://your-webhook-url.com/alert

# Slack Webhook URL
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx

# 企业微信机器人 Webhook
# WECHAT_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx

# 邮件告警配置
# ALERT_EMAIL_TO=admin@example.com
# ALERT_EMAIL_FROM=noreply@example.com
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=user
# SMTP_PASSWORD=password

# 告警阈值
# ALERT_ON_ERROR=true           # 同步错误时告警
# ALERT_ON_RESTART=true         # 服务重启时告警
# ALERT_THRESHOLD_FAILURES=3    # 连续失败 N 次后告警
